<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LAN Chat</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class'
    };
  </script>
</head>
<body class="min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center px-4 text-gray-800 dark:text-gray-100">
  <main class="bg-white dark:bg-gray-800 w-full max-w-2xl p-6 rounded-xl shadow-md flex flex-col relative">

    <button
      onclick="toggleDarkMode()"
      class="absolute top-4 right-4 p-2 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-white hover:bg-gray-300 dark:hover:bg-gray-600 transition duration-200 shadow-md"
      title="Toggle Dark Mode"
    >
      ðŸŒ“
    </button>

    <h2 class="text-2xl font-semibold text-center mb-4">LAN Chat Room</h2>

    <div class="h-[400px] mb-4 overflow-hidden border border-gray-200 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-700">
      <ul id="messages" class="h-full overflow-y-auto p-4 space-y-2 text-sm scroll-smooth">
      </ul>
    </div>

    <form onsubmit="handleFormSubmit(event)" class="flex gap-2">
      <input
        id="messageInput"
        type="text"
        autocomplete="off"
        placeholder="Type a message..."
        class="flex-grow px-3 py-2 border rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <button
        onclick="sendMessage()"
        class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md transition"
      >
        Send
      </button>
      <button
        onclick="requestHistory()"
        class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-md transition"
      >
        History
      </button>
    </form>
  </main>

  <script src="/socket.io/socket.io.js"></script>
  <script src="client.js"></script>
</body>
</html>
